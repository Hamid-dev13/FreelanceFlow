(()=>{var e={};e.id=337,e.ids=[337],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},7981:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(260),a=s(8203),n=s(5155),l=s.n(n),i=s(7292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["(dashboard)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9826)),"/home/hamid-user/PERSO/FreelanceFlow/FreelanceFlow/freelanceflow/src/app/(dashboard)/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8426)),"/home/hamid-user/PERSO/FreelanceFlow/FreelanceFlow/freelanceflow/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"/home/hamid-user/PERSO/FreelanceFlow/FreelanceFlow/freelanceflow/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/hamid-user/PERSO/FreelanceFlow/FreelanceFlow/freelanceflow/src/app/(dashboard)/dashboard/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1403:(e,t,s)=>{Promise.resolve().then(s.bind(s,9826))},7427:(e,t,s)=>{Promise.resolve().then(s.bind(s,8243))},2310:(e,t,s)=>{Promise.resolve().then(s.bind(s,8426))},553:(e,t,s)=>{Promise.resolve().then(s.bind(s,4875))},9334:(e,t,s)=>{"use strict";var r=s(8686);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},591:(e,t,s)=>{"use strict";s.d(t,{H:()=>n});var r=s(5512);s(8009);var a=s(190);let n=({children:e})=>(0,r.jsxs)("div",{className:"relative min-h-screen bg-gradient-to-b from-black to-gray-900 text-white",children:[(0,r.jsx)(a.t,{}),(0,r.jsx)("main",{className:"relative z-0 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})},190:(e,t,s)=>{"use strict";s.d(t,{t:()=>c});var r=s(5512);s(8009);var a=s(8531),n=s.n(a),l=s(9334),i=s(6870),o=s(2539);let c=()=>{let e=(0,l.usePathname)();return(0,r.jsx)("header",{className:"sticky top-0 z-10 bg-gray-900/50 backdrop-blur-lg border-b border-gray-800",children:(0,r.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"flex justify-between h-16",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mr-8",children:[(0,r.jsx)(i.A,{className:"h-6 w-6 text-[#FF4405]"}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:"FreelanceFlow"})]}),(0,r.jsxs)("ul",{className:"flex items-center space-x-8",children:[(0,r.jsx)("li",{}),(0,r.jsx)("li",{children:(0,r.jsxs)(n(),{href:"/mission",className:`flex items-center gap-2 transition-colors ${"/missions"===e?"text-[#FF4405]":"text-gray-300 hover:text-[#FF4405]"}`,children:[(0,r.jsx)(o.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Mes missions"})]})})]})]})})})})}},8243:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(5512),a=s(8009),n=s.n(a),l=s(9334);s(814);var i=s(111),o=s(5603),c=s(5637);let d=(0,s(4825).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var m=s(3325),h=s(2422);function x(e){let[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(null);return{data:t,loading:r,error:l}}function u({icon:e,label:t,value:s}){return(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-800 p-4 sm:p-6 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,r.jsx)(e,{className:"h-6 w-6 sm:h-8 sm:w-8 text-[#FF4405]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-gray-400 text-xs sm:text-sm",children:t}),(0,r.jsx)("p",{className:"text-2xl sm:text-3xl font-semibold mt-1 text-white",children:s})]})]})})}function p({icon:e,title:t,children:s,emptyMessage:a}){let l=n().Children.toArray(s);return(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-800 p-4 sm:p-6 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[(0,r.jsx)(e,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#FF4405]"}),(0,r.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:t})]}),l.length>0?(0,r.jsx)("div",{className:"space-y-3 sm:space-y-4",children:s}):(0,r.jsxs)("div",{className:"text-center text-gray-400 py-6 sm:py-8",children:[(0,r.jsx)(e,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-3 opacity-50"}),(0,r.jsx)("p",{className:"text-sm sm:text-base",children:a||"Aucun \xe9l\xe9ment"})]})]})}function g(){let{data:e,loading:t}=x("/api/projects"),s=(()=>{let t=new Date().getMonth(),s=new Date().getFullYear();return{totalClients:e.length,activeProjects:e.filter(e=>"EN_COURS"===e.status).length,completedProjects:e.filter(e=>"TERMINE"===e.status).length,totalProjectsThisMonth:e.filter(e=>{let r=new Date(e.startDate);return r.getMonth()===t&&r.getFullYear()===s}).length,upcomingDeadlines:e.filter(e=>e.endDate&&new Date(e.endDate)>new Date).sort((e,t)=>new Date(e.endDate).getTime()-new Date(t.endDate).getTime()).slice(0,3),recentProjects:[...e].sort((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime()).slice(0,5)}})();return t?(0,r.jsx)("div",{children:"Chargement..."}):(0,r.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[(0,r.jsx)(u,{icon:i.A,label:"Clients Totaux",value:s.totalClients}),(0,r.jsx)(u,{icon:o.A,label:"Projets Actifs",value:s.activeProjects}),(0,r.jsx)(u,{icon:c.A,label:"Projets Termin\xe9s",value:s.completedProjects}),(0,r.jsx)(u,{icon:d,label:"Nouveaux Projets (ce mois)",value:s.totalProjectsThisMonth})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(p,{icon:m.A,title:"\xc9ch\xe9ances \xe0 venir",emptyMessage:"Aucun projet \xe0 \xe9ch\xe9ance proche",children:s.upcomingDeadlines.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-800 last:border-b-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["Client: ",e.client.name]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"\xc9ch\xe9ance"}),(0,r.jsx)("p",{className:"text-[#FF4405]",children:new Date(e.endDate).toLocaleDateString()})]})]},e.id))}),(0,r.jsx)(p,{icon:h.A,title:"Activit\xe9 R\xe9cente",emptyMessage:"Aucune activit\xe9 r\xe9cente",children:s.recentProjects.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-800 last:border-b-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["Client: ",e.client.name]})]}),(0,r.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"EN_COURS"===e.status?"bg-blue-900/50 text-blue-200":"TERMINE"===e.status?"bg-green-900/50 text-green-200":"bg-yellow-900/50 text-yellow-200"}`,children:"EN_COURS"===e.status?"En cours":"TERMINE"===e.status?"Termin\xe9":"En pause"})]},e.id))})]})]})}var b=s(5469),f=s(7144);function j(){let{data:e,loading:t}=x("/api/mission"),s={totalMissions:e.length,inProgressMissions:e.filter(e=>"IN_PROGRESS"===e.status).length,pendingMissions:e.filter(e=>"PENDING"===e.status).length,upcomingDeadlines:e.filter(e=>"COMPLETED"!==e.status).sort((e,t)=>new Date(e.deadline).getTime()-new Date(t.deadline).getTime()).slice(0,3)};return t?(0,r.jsx)("div",{children:"Chargement..."}):(0,r.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(u,{icon:i.A,label:"Missions Totales",value:s.totalMissions}),(0,r.jsx)(u,{icon:b.A,label:"En Cours",value:s.inProgressMissions}),(0,r.jsx)(u,{icon:f.A,label:"En Attente",value:s.pendingMissions})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(p,{icon:m.A,title:"\xc9ch\xe9ances \xe0 venirr",emptyMessage:"Aucune mission \xe0 \xe9ch\xe9ance proche",children:s.upcomingDeadlines.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-800 last:border-b-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"\xc9ch\xe9ance"}),(0,r.jsx)("p",{className:"text-[#FF4405]",children:new Date(e.deadline).toLocaleDateString()})]})]},e.id))}),(0,r.jsx)(p,{icon:h.A,title:"Activit\xe9 R\xe9cente",emptyMessage:"Aucune activit\xe9 r\xe9cente",children:e.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-800 last:border-b-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]}),(0,r.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"COMPLETED"===e.status?"bg-green-900/50 text-green-200":"IN_PROGRESS"===e.status?"bg-blue-900/50 text-blue-200":"bg-yellow-900/50 text-yellow-200"}`,children:"COMPLETED"===e.status?"Termin\xe9":"IN_PROGRESS"===e.status?"En cours":"En attente"})]},e.id))})]})]})}var v=s(6870);function y(){return(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 text-[#FF4405]",children:[(0,r.jsx)(v.A,{className:"h-12 w-12 animate-pulse"}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("span",{className:"text-sm sm:text-base animate-pulse",children:"Chargement du tableau de bord..."})})]})})}function w(){let{role:e,loading:t}=function(){(0,l.useRouter)();let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0);return{role:e,loading:s}}();if(console.log("Current role:",e),t)return(0,r.jsx)(y,{});switch(e){case"PROJECT_MANAGER":return console.log("Rendering Project Manager Dashboard"),(0,r.jsx)(g,{});case"DEVELOPER":return console.log("Rendering Developer Dashboard"),(0,r.jsx)(j,{});default:return(0,r.jsx)("div",{children:"Acc\xe8s non autoris\xe9"})}}},4875:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5512);s(814);var a=s(8009),n=s(9334),l=s(591),i=s(6531);s(190),s(4838);var o=s(6870);function c({children:e}){(0,n.useRouter)();let[t,s]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[x,u]=(0,a.useState)(null);return t?(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 text-[#FF4405]",children:[(0,r.jsx)(o.A,{className:"h-12 w-12 animate-pulse"}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("span",{className:"text-sm sm:text-base animate-pulse",children:"Chargement..."})})]})}):"PROJECT_MANAGER"===x?(0,r.jsxs)(i.F,{children:[e," "]}):(0,r.jsx)(l.H,{children:e})}},9826:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/hamid-user/PERSO/FreelanceFlow/FreelanceFlow/freelanceflow/src/app/(dashboard)/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/hamid-user/PERSO/FreelanceFlow/FreelanceFlow/freelanceflow/src/app/(dashboard)/dashboard/page.tsx","default")},8426:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/hamid-user/PERSO/FreelanceFlow/FreelanceFlow/freelanceflow/src/app/(dashboard)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/hamid-user/PERSO/FreelanceFlow/FreelanceFlow/freelanceflow/src/app/(dashboard)/layout.tsx","default")},814:(e,t,s)=>{"use strict";s.d(t,{s:()=>a});class r extends Error{}function a(e,t){let s;if("string"!=typeof e)throw new r("Invalid token specified: must be a string");t||(t={});let a=!0===t.header?0:1,n=e.split(".")[a];if("string"!=typeof n)throw new r(`Invalid token specified: missing part #${a+1}`);try{s=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var s;return s=t,decodeURIComponent(atob(s).replace(/(.)/g,(e,t)=>{let s=t.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch(e){return atob(t)}}(n)}catch(e){throw new r(`Invalid token specified: invalid base64 for part #${a+1} (${e.message})`)}try{return JSON.parse(s)}catch(e){throw new r(`Invalid token specified: invalid json for part #${a+1} (${e.message})`)}}r.prototype.name="InvalidTokenError"},2422:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4825).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},5603:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4825).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},3325:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4825).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7144:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4825).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5637:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4825).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5469:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4825).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,619,373,531,564,145],()=>s(7981));module.exports=r})();